<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodPrice AI - Smart Buying Advisor</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div id="app">
        <!-- Navbar will be inserted here -->
        <nav class="navbar">
            <div class="navbar-container">
                <div class="logo">
                    <h1>ðŸ¥¬ FoodPrice AI</h1>
                </div>
                <ul class="nav-links">
                    <li><a href="#" class="nav-link active" data-page="dashboard">Dashboard</a></li>
                    <li><a href="#" class="nav-link" data-page="compare">Compare Prices</a></li>
                    <li><a href="#" class="nav-link" data-page="predictions">Predictions</a></li>
                    <li><a href="#" class="nav-link" data-page="insights">Insights</a></li>
                    <li><button id="report-price-btn" class="btn-secondary" style="margin-left:8px;">Report Price</button></li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- City Selector -->
            <div class="city-selector">
                <select id="city-dropdown" class="city-select">
                    <option value="">Select City</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Bangalore">Bangalore</option>
                    <option value="Hyderabad">Hyderabad</option>
                    <option value="Pune">Pune</option>
                    <option value="Chennai">Chennai</option>
                </select>
                <button id="refresh-btn" class="btn-primary">ðŸ”„ Refresh Data</button>
                <!-- Global vegetable filter (applies to all pages) -->
                <select id="global-veg-select" class="item-select" style="min-width:220px; margin-left:8px;">
                    <option value="">All Items</option>
                </select>
            </div>

            <!-- Page Container -->
            <div id="page-container" class="page-container">
                <!-- Dashboard Page -->
                <div id="dashboard" class="page active">
                    <!-- Current Prices Section -->
                    <section class="section">
                        <h2>ðŸ“Š Real-Time Prices</h2>
                        <div id="prices-grid" class="grid"></div>
                    </section>

                    <!-- Buy/Wait Alert Section -->
                    <section class="section">
                        <h2>ðŸŽ¯ Smart Recommendations</h2>
                        <div id="recommendations-grid" class="grid"></div>
                    </section>

                    <!-- Weekly Savings -->
                    <section class="section">
                        <h2>ðŸ’° Weekly Savings Summary</h2>
                        <div id="savings-summary" class="summary-card"></div>
                    </section>
                </div>

                <!-- Compare Prices Page -->
                <div id="compare" class="page">
                    <section class="section">
                        <h2>ðŸ›’ Price Comparison</h2>
                        <div class="compare-selector">
                            <select id="item-select" class="item-select">
                                <option value="">Select Item</option>
                            </select>
                            <input type="date" id="start-date" class="item-select" />
                            <input type="date" id="end-date" class="item-select" />
                            <select id="state-select" class="item-select">
                                <option value="">Select State</option>
                            </select>
                            <select id="sort-select" class="item-select">
                                <option value="">Sort</option>
                                <option value="price_asc">Price: Low â†’ High</option>
                                <option value="price_desc">Price: High â†’ Low</option>
                            </select>
                            <button id="compare-apply-btn" class="btn-primary">Apply</button>
                        </div>
                        <div id="comparison-grid" class="grid"></div>
                    </section>
                </div>

                <!-- Predictions Page -->
                <div id="predictions" class="page">
                    <section class="section">
                        <h2>ðŸ”® Price Predictions</h2>
                        <div class="prediction-selector">
                            <select id="prediction-item" class="item-select">
                                <option value="">Select Item</option>
                            </select>
                            <select id="prediction-days" class="item-select">
                                <option value="7">Next 7 Days</option>
                                <option value="14">Next 14 Days</option>
                                <option value="30">Next 30 Days</option>
                            </select>
                        </div>
                        <div id="prediction-chart" class="chart-container"></div>
                    </section>
                </div>

                <!-- Insights Page -->
                <div id="insights" class="page">
                    <section class="section">
                        <h2>ðŸ“ˆ Market Insights</h2>
                        <div class="insights-selector">
                            <select id="insight-month" class="item-select">
                                <option value="January">January</option>
                                <option value="February">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                                <option value="May">May</option>
                                <option value="June">June</option>
                                <option value="July">July</option>
                                <option value="August">August</option>
                                <option value="September">September</option>
                                <option value="October">October</option>
                                <option value="November">November</option>
                                <option value="December">December</option>
                            </select>
                        </div>
                        <div id="insights-container" class="grid"></div>
                    </section>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 FoodPrice AI. Helping you save money on groceries using AI-powered predictions.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/app.js"></script>
    <!-- Submit Price Modal -->
    <div id="submit-price-modal" class="modal hidden" aria-hidden="true">
        <div class="modal-overlay" id="modal-overlay"></div>
        <div class="modal-content">
            <button class="modal-close" id="modal-close">âœ•</button>
            <h3>Report Price</h3>
            <form id="submit-price-form">
                <label for="item-submit">Item</label>
                <select id="item-submit" class="item-select"></select>

                <label for="price-input">Price (â‚¹/kg)</label>
                <input id="price-input" type="number" step="0.01" min="0" placeholder="e.g. 35.50" class="item-select" />

                <label for="city-submit">City</label>
                <select id="city-submit" class="city-select"></select>

                <label for="source-input">Source (optional)</label>
                <input id="source-input" type="text" placeholder="e.g. Local vendor or User" class="item-select" />

                <label for="quality-select">Quality (1-5)</label>
                <select id="quality-select" class="item-select">
                    <option value="3">3 (Average)</option>
                    <option value="5">5 (Excellent)</option>
                    <option value="4">4 (Good)</option>
                    <option value="2">2 (Below Average)</option>
                    <option value="1">1 (Poor)</option>
                </select>

                <div style="display:flex; gap:8px; margin-top:12px;">
                    <button type="submit" class="btn-primary">Submit Price</button>
                    <button type="button" id="modal-cancel" class="btn-secondary">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</body>
</html>
